(function(a){var c=function(b){if("string"===typeof b){for(var a=new Uint8Array(b.length),d=b.length,c=0;c<d;c++)a[c]=b.charCodeAt(c);return a}return b},f=function(b){if("string"!==typeof b){for(var a="",d=0,c=b.length,e;d<c;)e=b.subarray(d,d+1024),d+=1024,a+=String.fromCharCode.apply(null,e);return a}return b},e=!1,b=function(b,d){e||(importScripts(a.basePath+"external/decode.min.js"),e=!0);var g=self.BrotliDecode(c(b));return d?g:f(g)},d=!1,k=function(b,e){d||(importScripts(a.basePath+"external/rawinflate.js",
a.basePath+"external/pako_inflate.min.js"),d=!0);var g=10;if("string"===typeof b){if(b.charCodeAt(3)&8){for(;0!==b.charCodeAt(g);++g);++g}}else if(b[3]&8){for(;0!==b[g];++g);++g}if(e)return b=c(b),b=b.subarray(g,b.length-8),a.pako.inflate(b,{windowBits:-15});b=f(b);b=b.substring(g,b.length-8);return a.RawDeflate.inflate(b)},l=function(b,d){return d?b:f(result)},h=function(b){var d=!b.shouldOutputArray,a=new XMLHttpRequest;a.open("GET",b.url,b.isAsync);var g=d&&a.overrideMimeType;a.responseType=g?
"text":"arraybuffer";g&&a.overrideMimeType("text/plain; charset=x-user-defined");a.send();var c=function(){Date.now();var c;c=g?a.responseText:new Uint8Array(a.response);c.length<b.compressedMaximum?(c=b.decompressFunction(c,b.shouldOutputArray),console.warn("Your server has not been configured to serve .gz and .br files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this.")):d&&(c=f(c));return c};if(b.isAsync)result=new Promise(function(d,
g){a.onload=function(a){200==this.status?d(c()):g("Download Failed "+b.url)};a.onerror=function(){g("Network error occurred "+b.url)}});else{if(200==a.status)return c();throw Error("Failed to load "+url);}return result},g=function(b,a){a.url=b.replace(".",".gz.");a.decompressFunction=k;return h(a)},m=function(a,d){d.url=a.replace(".",".br.");d.decompressFunction=b;return h(d)},n=function(b,a){a.url=b;a.decompressFunction=l;return h(a)},q=function(b,a,d,c){return b["catch"](function(b){console.warn(b);
return c(a,d)})},p=function(b,a,d){if(d.isAsync){for(var c=a[0](b,d),g=1;g<a.length;++g)c=q(c,b,d,a[g]);return c}for(g=0;g<a.length;++g)try{return a[g](b,d)}catch(e){console.warn(e.message)}};a.loadURLWithBrotliPriority=function(b,a,d,c){var e={};e.compressedMaximum=a;e.isAsync=d;e.shouldOutputArray=c;return p(b,[m,g,n],e)};a.loadURLWithGzipPriority=function(b,a,d,c){var e={};e.compressedMaximum=a;e.isAsync=d;e.shouldOutputArray=c;return p(b,[g,m,n],e)}})("undefined"===typeof window?this:window);(function(a){var c=a._trnDebugMode,f=a._logFiltersEnabled?a._logFiltersEnabled:{};a.utils=a.utils?a.utils:{};a.utils.warn=function(a,b){b||(b=a,a="default");c&&f[a]&&console.warn(a+": "+b)};a.utils.log=function(a,b){b||(b=a,a="default");c&&f[a]&&console.log(a+": "+b)};a.utils.error=function(a){c&&console.error(a);throw Error(a);};a.info=function(a,b){};a.warn=function(c,b){a.utils.warn(c,b)};a.error=function(c){a.utils.error(c)}})("undefined"===typeof window?this:window);(function(a){a.instantiateCachedURL=function(c,f,e,b){function d(b){return new Promise(function(a,d){var c=b.transaction(["wasm-cache"]).objectStore("wasm-cache").get(f);c.onsuccess=function(b){c.result?a(c.result):d("Module "+f+" was not found in wasm cache")};c.onerror=d.bind(null,"Error getting wasm module "+f)})}function k(b,a){var d=b.transaction(["wasm-cache"],"readwrite").objectStore("wasm-cache").put(a,f);d.onerror=function(b){console.log("Failed to store in wasm cache: "+b)};d.onsuccess=
function(b){console.log("Successfully stored "+f+" in wasm cache")}}function l(){return a.loadURLWithBrotliPriority(f,b,!0,!0).then(function(b){Date.now();return WebAssembly.instantiate(b,e)})}return function(){return new Promise(function(b,a){var d=indexedDB.open("wasm-cache",c);d.onerror=a.bind(null,"Error opening wasm cache database");d.onsuccess=function(){b(d.result)};d.onupgradeneeded=function(b){var a=d.result;a.objectStoreNames.contains("wasm-cache")&&(console.log("Clearing out version "+
b.oldVersion+" wasm cache"),a.deleteObjectStore("wasm-cache"));console.log("Creating version "+b.newVersion+" wasm cache");a.createObjectStore("wasm-cache")}})}().then(function(b){return d(b).then(function(b){return WebAssembly.instantiate(b,e)},function(a){return l().then(function(a){try{k(b,a.module)}catch(d){}return a.instance})})},function(b){console.log(b);return l().then(function(b){return b.instance})})}})(this);(function(a){a.Uint8ClampedArray||(a.Uint8ClampedArray=a.Uint8Array);var c=!(!self.WebAssembly||!self.WebAssembly.validate);-1<a.navigator.userAgent.indexOf("Edge")&&(c=!1);var f=function(a){var b=this;this.promise=a.then(function(a){b.response=a;b.status=200})};f.prototype={addEventListener:function(a,b){this.promise.then(b)}};a.loadCompiledBackend=function(a,b,d,k){if(c&&!k)Module.instantiateWasm=function(c,g){return self.instantiateCachedURL(b,a+"Wasm.wasm",c,d["Wasm.wasm"]).then(function(b){g(b)})},
k=loadURLWithBrotliPriority(a+"Wasm.js",d["Wasm.js"],!1,!1);else{k=loadURLWithGzipPriority((Module.asmjsPrefix?Module.asmjsPrefix:"")+a+".js",d[".js"],!1);var l=loadURLWithGzipPriority((Module.memoryInitializerPrefixURL?Module.memoryInitializerPrefixURL:"")+a+".js.mem",d[".js.mem"],!0,!0);Module.memoryInitializerRequest=new f(l)}eval.call(self,k)}})("undefined"===typeof window?this:window);var createPromiseCapability=function(){var a={};a.promise=new Promise(function(c,f){a.resolve=c;a.reject=f});return a};("undefined"===typeof window?this:window).createPromiseCapability=createPromiseCapability;
(function(a){function c(b){this._status=0;this._handlers=[];try{b.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(a){this._reject(a)}}if(a.Promise)"function"!==typeof a.Promise.all&&(a.Promise.all=function(b){var d=0,c=[],f,e,g=new a.Promise(function(b,a){f=b;e=a});b.forEach(function(b,a){d++;b.then(function(b){c[a]=b;d--;0===d&&f(c)},e)});0===d&&f(c);return g}),"function"!==typeof a.Promise.resolve&&(a.Promise.resolve=function(b){return new a.Promise(function(a){a(b)})}),"function"!==
typeof a.Promise.reject&&(a.Promise.reject=function(b){return new a.Promise(function(a,c){c(b)})}),"function"!==typeof a.Promise.prototype["catch"]&&(a.Promise.prototype["catch"]=function(b){return a.Promise.prototype.then(void 0,b)});else{var f="function"===typeof setImmediate&&setImmediate||function(b){setTimeout(b,1)},e={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(b){0!==b._status&&(this.handlers=this.handlers.concat(b._handlers),b._handlers=
[],this.running||(this.running=!0,f(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var b=Date.now()+1;0<this.handlers.length;){var a=this.handlers.shift(),c=a.thisPromise._status,e=a.thisPromise._value;try{1===c?"function"===typeof a.onResolve&&(e=a.onResolve(e)):"function"===typeof a.onReject&&(e=a.onReject(e),c=1,a.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(a.thisPromise))}catch(h){c=2,e=h}a.nextPromise._updateStatus(c,e);if(Date.now()>=b)break}0<this.handlers.length?
f(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(b){this.unhandledRejections.push({promise:b,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(b){b._unhandledRejection=!1;for(var a=0;a<this.unhandledRejections.length;a++)this.unhandledRejections[a].promise===b&&(this.unhandledRejections.splice(a),a--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=
!1;for(var b=Date.now(),a=0;a<this.unhandledRejections.length;a++)if(500<b-this.unhandledRejections[a].time){var c=this.unhandledRejections[a].promise._value,e="Unhandled rejection: "+c;c.stack&&(e+="\n"+c.stack);warn(e);this.unhandledRejections.splice(a);a--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};c.all=function(a){function d(a){2!==h._status&&(m=[],f(a))}var e,f,h=new c(function(a,b){e=a;f=b}),g=a.length,m=[];if(0===g)return e(m),h;for(var n=0,q=a.length;n<
q;++n){var p=a[n],r=function(a){return function(b){2!==h._status&&(m[a]=b,g--,0===g&&e(m))}}(n);c.isPromise(p)?p.then(r,d):r(p)}return h};c.isPromise=function(a){return a&&"function"===typeof a.then};c.resolve=function(a){return new c(function(c){c(a)})};c.reject=function(a){return new c(function(c,e){e(a)})};c.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(a,d){1!==this._status&&2!==this._status&&(1===a&&c.isPromise(d)?d.then(this._updateStatus.bind(this,
1),this._updateStatus.bind(this,2)):(this._status=a,this._value=d,2===a&&0===this._handlers.length&&(this._unhandledRejection=!0,e.addUnhandledRejection(this)),e.scheduleHandlers(this)))},_resolve:function(a){this._updateStatus(1,a)},_reject:function(a){this._updateStatus(2,a)},then:function(a,d){var f=new c(function(a,b){this.resolve=a;this.reject=b});this._handlers.push({thisPromise:this,onResolve:a,onReject:d,nextPromise:f});e.scheduleHandlers(this);return f},"catch":function(a){return this.then(void 0,
a)}};a.Promise=c}})("undefined"===typeof window?this:window);(function(a){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,f){void 0===a&&(a=0);void 0===f&&(f=this.byteLength);a=Math.floor(a);f=Math.floor(f);0>a&&(a+=this.byteLength);0>f&&(f+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);f=Math.min(Math.max(0,f),this.byteLength);if(0>=f-a)return new ArrayBuffer(0);var e=new ArrayBuffer(f-a),b=new Uint8Array(e),d=new Uint8Array(this,a,f-a);b.set(d);return e})})(this);var tik_tok_start=null;
(function(a){function c(a){a=e(a);d(a.msg)}function f(){h=function(){}}function e(a){var b=[];return{resource_array:b,msg:JSON.stringify(a.data,function(a,c){if("object"==typeof c){var d=null;c instanceof Uint8Array?d=c:c instanceof ArrayBuffer&&(d=new Uint8Array(c));if(d){var e=k(d.length),g=l(e);g&&(new Uint8Array(Module.HEAPU8.buffer,g,d.length)).set(d);b.push(e);return{__trn_res_id:e}}}return c})}}a.basePath="../";importScripts(a.basePath+"external/Promise.js");var b=[];onmessage=function(a){b||
(b=[]);b.push(a)};a.ContinueFunc=function(a){h("ContinueFunc called");setTimeout(function(){onmessage({data:{action:"continue"}})},a)};a.Module={onRuntimeInitialized:function(){console.log("on ready");h||f();var e=Date.now()-tik_tok_start;a.utils.log("load","time duration from start to ready: "+JSON.stringify(e));d=Module.cwrap("TRN_OnMessage",null,["string"]);k=Module.cwrap("TRN_CreateBufferResource","number",["number"]);l=Module.cwrap("TRN_GetResourcePointer","number",["number"]);h("OnReady called");
onmessage=c;Module._TRN_InitWorker();for(e=0;e<b.length;++e)onmessage(b[e]);b=null},fetchSelf:function(){tik_tok_start=Date.now();a.loadCompiledBackend("WebOfficeWorker",1,{"Wasm.wasm":5E6,"Wasm.js":1E5,".js":5E6,".js.mem":3E6},!0);console.log("end of fetch self")},noExitRuntime:!0};var d,k,l,h;a.Module.fetchSelf()})("undefined"===typeof window?this:window);
